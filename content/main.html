<h2>NodePoint</h2>
<h3>Introduction</h3>
<p>NodePoint (NP) is a simple Web Application Framework (WAF) project based on the <a href='http://nodejs.org/'>Node.js</a> and <a href='http://getbootstrap.com/'>Bootstrap</a> library. The idea behind NodePoint is to have an entire web site living in one lightweight package, with no external dependencies than these two libraries, yet still offer all the usual features such as content processing, user management, blogs, an API, and more.</p>
<p>In order to run this web app, all you need is Node.js installed. The Bootstrap library is loaded dynamically at runtime. The goal is to have a very simple framework to build and customize, perfect for small projects that do not require a full-featured web server and CMS installed. Feel free to build upon this project to suit your needs.</p>
<p>The text on this page is contained in <i>main.html</i> and can be edited from the Members area. The default admin credential is username: <i>admin</i> password: <i>admin</i>.</p>
<h3>Configuration</h3>
<p>Configuration values are saved in a single config file in CSV format. Here are the values you should configure:</p>
<p><table class='table table-striped'>
<tr><th>#</th><th>Variable name</th><th>Description</th></tr>
<tr><td>1</td><td>project_name</td><td>The title of your site</td></tr>
<tr><td>2</td><td>project_icon</td><td>The site logo</td></tr>
<tr><td>3</td><td>port</td><td>The port on which the server should listen for requests</td></tr>
<tr><td>4</td><td>css_file</td><td>A valid Bootstrap template, or any extra CSS file</td></tr>
<tr><td>5</td><td>page</td><td>List of pages</td></tr>
<tr><td>6</td><td>page_url</td><td>List of URLs for these pages</td></tr>
<tr><td>7</td><td>page_func</td><td>List of functions for these pages</td></tr>
<tr><td>8</td><td>user_file</td><td>File containing users information</td></tr>
<tr><td>9</td><td>file</td><td>List of files to load content from</td></tr>
<tr><td>10</td><td>res_path</td><td>Path to resource files</td></tr>
<tr><td>11</td><td>allow_registrations</td><td>Allow users to register on the login page</td></tr>
</table></p>
Then, functions dynamically display pages based on the path in the URL requested by users. Each function corresponds to one page. These functions have access to the following additional variables created by NP:</p>
<p><table class='table table-striped'>
<tr><th>#</th><th>Variable name</th><th>Description</th></tr>
<tr><td>1</td><td>req</td><td>The user request object</td></tr>
<tr><td>2</td><td>res</td><td>The response object</td></tr>
<tr><td>3</td><td>p</td><td>The URI path requested</td></tr>
<tr><td>4</td><td>q</td><td>An array containing GET or POST variables</td></tr>
<tr><td>9</td><td>users</td><td>Array containing the list of users</td></tr>
<tr><td>10</td><td>passwords</td><td>Array containing SHA-256 passwords for these users</td></tr>
</table></p>
<h3>User management</h3>
<p>User management is done through the previous variables <i>users</i> and <i>passwords</i>. You can use the function <b>logged_in(user, hashed_password)</b> to verify if a user is valid. This is what the login page does.</p>
<p>The arrays are filled from the content of the file <i>user_file</i>. In it, you should have each user on its own line, with each line having the user name and SHA-256 password, separated with a comma.</p>
<h3>Content management</h3>
<p>SNB includes two functions to output header and footer information for users. The first is <b>headers(status, chartype, cookies)</b>. The <i>status</i> should be set to 200 for success, and some other number for errors such as file not found or unauthorized. The <i>chartype</i> value is a valid value for the type of content you will display, whether that's html, plain text, and so on. Finally, the optional <i>cookies</i> variable is an array containing cookies to be set for the user. This is mostly used for logging in.</p>
<p>Each page can output content to the user via <b>res.write(string)</b>, but you can also load content from files. Simply place a list of files in the <i>files</i> variable, and the content will be loaded into memory at startup. Then, you can access it with <b>read_content(index)</b> where <i>index</i> is the file number from the previous array.</p>
<p>Content may also refer to resource files. This is mostly useful to store images and other assets, and should be placed inside the path referred to in <i>res_path</i>. Then, these files can be accessed by appending the path <i>/res/</i>. For example, if you have <i>image1.jpg</i> then you can refer to it with the following code: <code class='html'>&lt;img src='/res/image1.jpg'&gt;</code>.
<h3>Console</h3>
<p>All logging information is displayed to the console. The console also allows you to enter some commands to manage a running server:</p>
<p><table class='table table-striped'>
<tr><th>#</th><th>Console command</th><th>Description</th></tr>
<tr><td>1</td><td>version</td><td>Display version information</td></tr>
<tr><td>2</td><td>uptime</td><td>Display how long the server has been running</td></tr>
<tr><td>3</td><td>pid</td><td>Display the Process ID</td></tr>
<tr><td>4</td><td>reload</td><td>Reload all files into memory</td></tr>
<tr><td>5</td><td>hash</td><td>Hash a string, useful to edit the passwords variable</td></tr>
<tr><td>6</td><td>exit</td><td>Kill the server</td></tr>
</table></p>
<h3>Author</h3>
<p>NodePoint was created by <a href='http://dendory.net'>Patrick Lambert</a> and released under the <a href='http://opensource.org/licenses/MIT'>MIT License</a>.</p>